[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".report-container {\r\n    page-break-before:auto;\r\n    border-style: hidden;\r\n    border-collapse: collapse;\r\n\r\n  \r\n}\r\n.report-header {\r\n  display:table-header-group;\r\n  font-size:8px;\r\n  border-style:hidden;\r\n   border-collapse: collapse;\r\n   padding:0px;\r\n  \r\n}\r\n\r\n.ksa-invoice-table{\r\n    border-collapse: collapse;\r\n    position: relative;\r\n    margin-top:-5 px;\r\n  \r\n    \r\n    \r\n}\r\n.content0\r\n{\r\n    font-size:60px;\r\n    color: white;\r\n    padding:0px;\r\n    border-collapse: collapse;\r\n    display: table;\r\n    padding-top:1cm;\r\n    \r\n\r\n}\r\n/*@page {*/\r\n/*   margin-top: 6cm; */\r\n/*   margin-bottom: 1.7cm;*/\r\n/*}*/\r\n.box{\r\nwidth: 255px;\r\nheight: 115.5px;\r\nborder: 1px solid black;\r\n}\r\n\r\n@media print {\r\n  .ksa-invoice-table {\r\nposition:relative;\r\n}\r\n .footer {\r\n\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #f8f8f8; /* Adjust as needed */\r\n    text-align: center;\r\n    padding: 10px;\r\n  }\r\n\r\n \r\n  \r\n\r\n\r\n}\r\n  \r\n\r\n.ksa-invoice-table-two-columns\r\n{\r\n    margin-top:4cm;\r\n      \r\n}\r\n.letter-head \r\n{\r\n    page-break-before:always;\r\n    \r\n}\r\n.report-footer {\r\n  display:table-footer-group;\r\n  font-size:8px;\r\n  border-style:hidden;\r\n   border-collapse: collapse;\r\n   padding:0px;\r\n}\r\n\r\n/*.box1{\r\n\r\n    margin-top:5cm;\r\n    bottom:0;\r\nposition:static;\r\n\r\n  \r\n}  */\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% macro above_items(current_page, total_pages) %}\r\n<table class=\"report-container\" style=\"width:100%;\">\r\n<thead class=\"report-header\">\r\n<tr>\r\n    {% set company = frappe.get_doc(\"Company\", doc.company) %}\r\n\r\n    {# --- Customer Address --- #}\r\n    {% set customer_address = None %}\r\n    {% if doc.customer_address %}\r\n        {% set customer_address = frappe.get_doc(\"Address\", doc.customer_address) %}\r\n    {% else %}\r\n        {% set customer_doc = frappe.get_doc(\"Customer\", doc.customer) %}\r\n        {% if customer_doc.customer_primary_address %}\r\n            {% set customer_address = frappe.get_doc(\"Address\", customer_doc.customer_primary_address) %}\r\n        {% endif %}\r\n    {% endif %}\r\n\r\n    {# --- Company Address using frappe.get_list --- #}\r\n    {% set company_address = None %}\r\n    {% set address_list = frappe.get_list(\r\n        \"Address\",\r\n        filters={\"is_your_company_address\": \"1\"},\r\n        fields=[\r\n            \"address_line1\",\r\n            \"address_line2\",\r\n            \"city\",\r\n            \"pincode\",\r\n            \"state\",\r\n            \"custom_state_code\",\r\n            \"country\",\r\n            \"phone\",\r\n            \"email_id\",\r\n        ],\r\n        order_by=\"creation asc\"\r\n    ) %}\r\n    {% if address_list and address_list|length > 0 %}\r\n        {% set company_address = address_list[0] %}\r\n    {% endif %}\r\n\r\n    {# --- TIN Fields --- #}\r\n    {% set company_tin = frappe.db.get_value('Company', doc.company, 'custom_company_tin_number') or '' %}\r\n    {% set customer_tin = frappe.db.get_value('Customer', doc.customer, 'custom_customer_tin_number') or '' %}\r\n\r\n    {# --- QR Code --- #}\r\n    {% set qr_url = frappe.db.get_value('File', {'attached_to_name': doc.name, 'attached_to_field': 'custom_einvoice_qr'}, 'file_url') %}\r\n\r\n    <table class=\"ksa-invoice-table two-columns\" style=\"width:100%; border-collapse:collapse;\">\r\n        <tbody>\r\n            <tr>\r\n                <td colspan=\"7\"><b>Buyer</b></td>\r\n                <td colspan=\"7\"><b>Seller</b></td>\r\n                <td colspan=\"3\" rowspan=\"5\" style=\"text-align:center; vertical-align:middle;\">\r\n                    {% if qr_url %}\r\n                        <img src=\"{{ qr_url }}\" style=\"width:130px;height:130px;\">\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\">{{ doc.customer_name }}</td>\r\n                <td colspan=\"7\">{{ doc.company }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\"><b>TIN:</b> {{ customer_tin }}</td>\r\n                <td colspan=\"7\"><b>TIN:</b> {{ company_tin }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\" style=\"font-size:10px;\">\r\n                    {% if customer_address %}\r\n                        {{ customer_address.address_line1 or '' }}<br>\r\n                        {{ customer_address.address_line2 or '' }}<br>\r\n                        {{ customer_address.city or '' }}, {{ customer_address.state or '' }}<br>\r\n                        {{ customer_address.country or '' }}, {{ customer_address.pincode or '' }}\r\n                    {% endif %}\r\n                </td>\r\n                <td colspan=\"7\" style=\"font-size:10px;\">\r\n                    {% if company_address %}\r\n                        {{ company_address.address_line1 or '' }}<br>\r\n                        {{ company_address.address_line2 or '' }}<br>\r\n                        {{ company_address.city or '' }}, {{ company_address.state or '' }}<br>\r\n                        {{ company_address.country or '' }}, {{ company_address.pincode or '' }}\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\"><b>Invoice No:</b> {{ doc.name }}</td>\r\n                <td colspan=\"7\"><b>Date:</b> {{ frappe.format(doc.posting_date, {'fieldtype':'Date'}) }}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</tr>\r\n</thead>\r\n</table>\r\n{% endmacro %}\r\n\r\n{% set current_page = namespace(value=1) %}\r\n{% set total_pages = namespace(value=1) %}\r\n{% set total_items = namespace(value=doc.items | length) %}\r\n{% set total_pages.value = (total_items.value / 22) | round(0,'ceil') | int %}\r\n\r\n{{ above_items(current_page.value, total_pages.value) }}\r\n\r\n{# --- Items Table --- #}\r\n<table class=\"ksa-invoice-table\" style=\"width:100%; border-collapse:collapse;\">\r\n<thead>\r\n<tr>\r\n    <th><b>No.</b></th>\r\n    <th><b>Description</b></th>\r\n    <th><b>Quantity</b></th>\r\n    <th><b>Unit Price</b></th>\r\n    <th><b>Taxable Amount</b></th>\r\n    <th><b>Tax Rate (%)</b></th>\r\n    <th><b>Tax Amount</b></th>\r\n    <th><b>Subtotal (Inc. VAT)</b></th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n{% set current_row = namespace(value=1) %}\r\n{% for item in doc.items %}\r\n    {% if current_row.value > 22 %}\r\n        {% set current_page.value = current_page.value + 1 %}\r\n        {{ above_items(current_page.value, total_pages.value) }}\r\n        {% set current_row.value = 1 %}\r\n    {% endif %}\r\n    <tr>\r\n        <td>{{ item.idx }}</td>\r\n        <td>{{ item.item_code }} {{ item.item_name }}</td>\r\n        <td style=\"text-align:center;\">{{ item.qty }}</td>\r\n        <td style=\"text-align:right;\">{{ item.get_formatted(\"rate\") }}</td>\r\n        <td style=\"text-align:right;\">{{ item.get_formatted(\"amount\") }}</td>\r\n        <td style=\"text-align:center;\">\r\n            {% if item.tax_rate %}\r\n                {{ item.tax_rate }} %\r\n            {% else %}\r\n                0 %\r\n            {% endif %}\r\n        </td>\r\n        \r\n        <td style=\"text-align:right;\">\r\n            {% if item.tax_amount %}\r\n                {{ item.get_formatted(\"tax_amount\") }}\r\n            {% else %}\r\n                0.00\r\n            {% endif %}\r\n        </td>\r\n        \r\n        <td style=\"text-align:right;\">\r\n            {% set subtotal = (item.amount or 0) + (item.tax_amount or 0) %}\r\n            {{ \"{:,.2f}\".format(subtotal) }}\r\n        </td>\r\n    </tr>\r\n    {% set current_row.value = current_row.value + 1 %}\r\n{% endfor %}\r\n</tbody>\r\n</table>\r\n\r\n{# --- Totals Table --- #}\r\n<table style=\"width:100%; border-collapse:collapse; margin-top:10px;\">\r\n<tr>\r\n    <td><b>Total (Excl. VAT)</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Discount</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"discount_amount\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Total Taxable Amount</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"net_total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Total Tax (VAT)</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"total_taxes_and_charges\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Grand Total</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"grand_total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>LHDN Status</b></td>\r\n    <td>{{ doc.custom_lhdn_status or '' }}</td>\r\n</tr>\r\n</table>\r\n\r\n<style>\r\ntable, th, td {\r\n    border: 1px solid black;\r\n    border-collapse: collapse;\r\n    font-size:10px;\r\n    font-family:Arial;\r\n    line-height:10px;\r\n}\r\nth, td {\r\n    padding: 3px;\r\n}\r\n</style>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-27 17:24:19.615797",
  "module": "Myinvois Erpgulf",
  "name": "Malaysia SI format",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".report-container {\r\n    page-break-before:auto;\r\n    border-style: hidden;\r\n    border-collapse: collapse;\r\n\r\n  \r\n}\r\n.report-header {\r\n  display:table-header-group;\r\n  font-size:8px;\r\n  border-style:hidden;\r\n   border-collapse: collapse;\r\n   padding:0px;\r\n  \r\n}\r\n\r\n.ksa-invoice-table{\r\n    border-collapse: collapse;\r\n    position: relative;\r\n    margin-top:-5 px;\r\n  \r\n    \r\n    \r\n}\r\n.content0\r\n{\r\n    font-size:60px;\r\n    color: white;\r\n    padding:0px;\r\n    border-collapse: collapse;\r\n    display: table;\r\n    padding-top:1cm;\r\n    \r\n\r\n}\r\n/*@page {*/\r\n/*   margin-top: 6cm; */\r\n/*   margin-bottom: 1.7cm;*/\r\n/*}*/\r\n.box{\r\nwidth: 255px;\r\nheight: 115.5px;\r\nborder: 1px solid black;\r\n}\r\n\r\n@media print {\r\n  .ksa-invoice-table {\r\nposition:relative;\r\n}\r\n .footer {\r\n\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    background-color: #f8f8f8; /* Adjust as needed */\r\n    text-align: center;\r\n    padding: 10px;\r\n  }\r\n\r\n \r\n  \r\n\r\n\r\n}\r\n  \r\n\r\n.ksa-invoice-table-two-columns\r\n{\r\n    margin-top:4cm;\r\n      \r\n}\r\n.letter-head \r\n{\r\n    page-break-before:always;\r\n    \r\n}\r\n.report-footer {\r\n  display:table-footer-group;\r\n  font-size:8px;\r\n  border-style:hidden;\r\n   border-collapse: collapse;\r\n   padding:0px;\r\n}\r\n\r\n/*.box1{\r\n\r\n    margin-top:5cm;\r\n    bottom:0;\r\nposition:static;\r\n\r\n  \r\n}  */\r\n}\r\n\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Purchase Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% macro above_items(current_page, total_pages) %}\r\n<table class=\"report-container\" style=\"width:100%;\">\r\n<thead class=\"report-header\">\r\n<tr>\r\n    {% set company = frappe.get_doc(\"Company\", doc.company) %}\r\n\r\n    {# --- Supplier Address --- #}\r\n    {% set supplier_address = None %}\r\n    {% if doc.supplier_address %}\r\n        {% set supplier_address = frappe.get_doc(\"Address\", doc.supplier_address) %}\r\n    {% else %}\r\n        {% set supplier_doc = frappe.get_doc(\"Supplier\", doc.supplier) %}\r\n        {% if supplier_doc.supplier_primary_address %}\r\n            {% set supplier_address = frappe.get_doc(\"Address\", supplier_doc.supplier_primary_address) %}\r\n        {% endif %}\r\n    {% endif %}\r\n\r\n    {# --- Company Address --- #}\r\n    {% set company_address = None %}\r\n    {% set address_list = frappe.get_list(\r\n        \"Address\",\r\n        filters={\"is_your_company_address\": \"1\"},\r\n        fields=[\r\n            \"address_line1\",\r\n            \"address_line2\",\r\n            \"city\",\r\n            \"pincode\",\r\n            \"state\",\r\n            \"custom_state_code\",\r\n            \"country\",\r\n            \"phone\",\r\n            \"email_id\",\r\n        ],\r\n        order_by=\"creation asc\"\r\n    ) %}\r\n    {% if address_list and address_list|length > 0 %}\r\n        {% set company_address = address_list[0] %}\r\n    {% endif %}\r\n\r\n    {# --- TIN Fields --- #}\r\n    {% set company_tin = frappe.db.get_value('Company', doc.company, 'custom_company_tin_number') or '' %}\r\n    {% set supplier_tin = frappe.db.get_value('Supplier', doc.supplier, 'custom_customer_tin_number') or '' %}\r\n\r\n    {# --- QR Code --- #}\r\n    {% set qr_url = frappe.db.get_value('File', {'attached_to_name': doc.name, 'attached_to_field': 'custom_einvoice_qr'}, 'file_url') %}\r\n\r\n    <table class=\"ksa-invoice-table two-columns\" style=\"width:100%; border-collapse:collapse;\">\r\n        <tbody>\r\n            <tr>\r\n                <td colspan=\"7\"><b>Supplier</b></td>\r\n                <td colspan=\"7\"><b>Company</b></td>\r\n                <td colspan=\"3\" rowspan=\"5\" style=\"text-align:center; vertical-align:middle;\">\r\n                    {% if qr_url %}\r\n                        <img src=\"{{ qr_url }}\" style=\"width:130px;height:130px;\">\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\">{{ doc.supplier_name }}</td>\r\n                <td colspan=\"7\">{{ doc.company }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\"><b>TIN:</b> {{ supplier_tin }}</td>\r\n                <td colspan=\"7\"><b>TIN:</b> {{ company_tin }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\" style=\"font-size:10px;\">\r\n                    {% if supplier_address %}\r\n                        {{ supplier_address.address_line1 or '' }}<br>\r\n                        {{ supplier_address.address_line2 or '' }}<br>\r\n                        {{ supplier_address.city or '' }}, {{ supplier_address.state or '' }}<br>\r\n                        {{ supplier_address.country or '' }}, {{ supplier_address.pincode or '' }}\r\n                    {% endif %}\r\n                </td>\r\n                <td colspan=\"7\" style=\"font-size:10px;\">\r\n                    {% if company_address %}\r\n                        {{ company_address.address_line1 or '' }}<br>\r\n                        {{ company_address.address_line2 or '' }}<br>\r\n                        {{ company_address.city or '' }}, {{ company_address.state or '' }}<br>\r\n                        {{ company_address.country or '' }}, {{ company_address.pincode or '' }}\r\n                    {% endif %}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"7\"><b>Invoice No:</b> {{ doc.name }}</td>\r\n                <td colspan=\"7\"><b>Date:</b> {{ frappe.format(doc.posting_date, {'fieldtype':'Date'}) }}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</tr>\r\n</thead>\r\n</table>\r\n{% endmacro %}\r\n\r\n{% set current_page = namespace(value=1) %}\r\n{% set total_pages = namespace(value=1) %}\r\n{% set total_items = namespace(value=doc.items | length) %}\r\n{% set total_pages.value = (total_items.value / 22) | round(0,'ceil') | int %}\r\n\r\n{{ above_items(current_page.value, total_pages.value) }}\r\n\r\n{# --- Items Table --- #}\r\n<table class=\"ksa-invoice-table\" style=\"width:100%; border-collapse:collapse;\">\r\n<thead>\r\n<tr>\r\n    <th><b>No.</b></th>\r\n    <th><b>Description</b></th>\r\n    <th><b>Quantity</b></th>\r\n    <th><b>Unit Price</b></th>\r\n    <th><b>Taxable Amount</b></th>\r\n    <th><b>Tax Rate (%)</b></th>\r\n    <th><b>Tax Amount</b></th>\r\n    <th><b>Subtotal (Inc. VAT)</b></th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n{% set current_row = namespace(value=1) %}\r\n{% for item in doc.items %}\r\n    {% if current_row.value > 22 %}\r\n        {% set current_page.value = current_page.value + 1 %}\r\n        {{ above_items(current_page.value, total_pages.value) }}\r\n        {% set current_row.value = 1 %}\r\n    {% endif %}\r\n    <tr>\r\n        <td>{{ item.idx }}</td>\r\n        <td>{{ item.item_code }} {{ item.item_name }}</td>\r\n        <td style=\"text-align:center;\">{{ item.qty }}</td>\r\n        <td style=\"text-align:right;\">{{ item.get_formatted(\"rate\") }}</td>\r\n        <td style=\"text-align:right;\">{{ item.get_formatted(\"amount\") }}</td>\r\n        <td style=\"text-align:center;\">\r\n            {% if item.tax_rate %}\r\n                {{ item.tax_rate }} %\r\n            {% else %}\r\n                0 %\r\n            {% endif %}\r\n        </td>\r\n        \r\n        <td style=\"text-align:right;\">\r\n            {% if item.tax_amount %}\r\n                {{ item.get_formatted(\"tax_amount\") }}\r\n            {% else %}\r\n                0.00\r\n            {% endif %}\r\n        </td>\r\n        \r\n        <td style=\"text-align:right;\">\r\n            {% set subtotal = (item.amount or 0) + (item.tax_amount or 0) %}\r\n            {{ \"{:,.2f}\".format(subtotal) }}\r\n        </td>\r\n    </tr>\r\n    {% set current_row.value = current_row.value + 1 %}\r\n{% endfor %}\r\n</tbody>\r\n</table>\r\n\r\n{# --- Totals Table --- #}\r\n<table style=\"width:100%; border-collapse:collapse; margin-top:10px;\">\r\n<tr>\r\n    <td><b>Total (Excl. VAT)</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Discount</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"discount_amount\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Total Taxable Amount</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"net_total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Total Tax (VAT)</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"total_taxes_and_charges\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>Grand Total</b></td>\r\n    <td style=\"text-align:right;\">{{ doc.get_formatted(\"grand_total\") }}</td>\r\n</tr>\r\n<tr>\r\n    <td><b>LHDN Status</b></td>\r\n    <td>{{ doc.custom_lhdn_status or '' }}</td>\r\n</tr>\r\n</table>\r\n\r\n<style>\r\ntable, th, td {\r\n    border: 1px solid black;\r\n    border-collapse: collapse;\r\n    font-size:10px;\r\n    font-family:Arial;\r\n    line-height:10px;\r\n}\r\nth, td {\r\n    padding: 3px;\r\n}\r\n</style>\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-10-27 17:29:28.868892",
  "module": "Myinvois Erpgulf",
  "name": "Malaysia PI Format",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]